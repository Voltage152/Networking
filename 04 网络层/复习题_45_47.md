#### R21 比较和对照链路状态和距离向量路由选择算法

  * 距离向量算法中，每个结点仅与它的直接相连的邻居交谈，但它为其邻居提供了从它自己到网络中 (它所知道的) 所有其他结点的最低费用估计。
  
  * 链路状态算法中，每个结点 (经广播) 与所有其他结点交谈，但它仅告诉它们与它直接相连链路的费用。
 
  * **报文复杂性** 
  
     * 链路状态算法要求每个结点都知道网络中每条链路的费用。这就要求发送 O(NE) 个报文 (从某个点点亮全图，需要 O(E) 报文，既然需要从每个点点亮全图，那就是 O(NE))，而且无论何时一条链路的费用发生变化，必须向所有结点发送新的链路费用。
     
     * 距离向量算法中，仅当链路费用的改变引起该链路相邻结点之间的最路径发生变化时，才传播已改变费用的路径。
     
  * **收敛速度** 
     * 链路状态算法需要发送 O(NE) 个报文，还需要执行 O(N^2) 以确定一条最短路径。
     
     * 距离向量算法收敛比较慢，而且收敛时会遇到路由选择环路，以及无穷计数的问题。
  
  * **健壮性**
     * 链路状态算法计算转发表是在每台路由器上独立进行的，因此比较健壮。
     
     * 距离向量算法中，一个结点可向任意或所有目的结点通告不正确的最低费用路径。 

#### R22 讨论因特网的等级制组织是怎样使得其能够扩展为数以百万计用户的。

  * 将路由器组织进一个自洽系统内部的方法，然后在不同的自洽系统内部执行不同的路由选择算法，规模的问题得以解决。所有自洽系统间遵循相同的自洽系统间路由选择协议，这样再运行的路由算法不再以路由器为基本单位，而是以 AS 为基本单位。

#### R23 每个自洽系统使用相同的 AS 内部路由选择算法是必要的吗？为什么？

  * 不是必要的，因为自洽系统内部只要能相互连通，它爱怎么搞怎么搞，想采用什么路由算法随他开心。对外界来说，可以把它看成一个单独的路由器和其他 AS 互联。
 
#### R24 考虑图 4-37。从 D 中的初始表开始，假设 D 收到来自 A 的以下通告
#### D 中的表将会改变吗？如果是，应怎样变化？

 * 不会改变。本来 D 知道，下一跳是 B 的路径有 7 跳，但是 A 告诉它，你要是经过我的话，下一跳是 C 再到 D 需要 11 跳，D 又不是傻逼，肯定不会修改自己的转发表去绕远路。

#### R25 比较并对照 RIP 与 OSPF 使用的通告。

  * RIP 包含了到达目的地的跳数以及下一跳路由器，RIP 实质是一个距离向量算法，因此每个路由器向邻居发送它到目前为止所知道的关于网络的所有信息。
  * OSPF 包含了到每一个邻居的链路费用，OSPF 实质是一个链路状态算法，因此每个路由器向所有其他路由器发送它到自己的每个邻居的链路费用。

#### R26 填空: RIP 通告通常宣称到各目的地的跳数，而 BGP 更新却宣称到各目的地 `___分组所途经的一系列 AS 的编号 (AS-PATH 属性)____`

#### R27 为什么在因特网中用到了不同类型的 AS 间与 AS 内协议？
 * 策略
	
	* AS 间策略是重要的考虑因素，比如不想让流量发送到哪个 ISP，想控制在哪两个 AS 间发送的流量，而在 AS 内部，这些都不用考虑。
	  
 * 规模
	
	* AS 内部路由器的数量很少，即使规模增大，大不了搞成两个互联的 AS，这样就解决了路由器太多导致每个路由器要用大量内存来存储其他路由器或链路费用信息，以及算法收敛不了的问题。
	  
 * 性能
	
	* 在 AS 内部性能是主要考虑因素，在 AS 间并不是，即使某条路由路径更好，但也可能刻意绕远路，因为不想让流量经过某个 AS




