#### P17 前面讲过，使用 CSMA/CD 协议，适配器在碰撞之后等待 K * 512 比特时间，其中 K 是随机选取的。对于 K = 100，对于一个 10 Mbps 的广播信道，适配器返回到第二步要等多长时间？对于 100 Mbps 的广播信道来说呢？

  * CSMA/CD 协议的运行分为下面步骤：
    * 1、适配器接收网络层数据报，准备链路层帧，将其放入帧适配器缓存中。
    * 2、适配器侦听信道是否忙，若忙，等待直到信道不忙。若信道不忙，则开始传输帧
    * 3、适配器一边传输一边侦听信道是否有其他适配器开始使用广播信道。如果有，那么中止传输，等待一个随机时间量，然后回到第 2 步。如果传输完整个帧都没有检测有其他适配器使用信道，那么就算完成该帧。
    
  * 对于 10 Mbps 的广播信道，512 比特时间就是 51.2 us，因此需要等 5.12 ms
  * 对于 100 Mbps 的广播信道，512 比特时间是 5.12 us，因此需要等 0.512 ms 

#### P18 假设结点 A 和结点 B 在同一个 10 Mbps 的广播信道上，这两个结点的传播时延为 325 比特时间。假设对这个广播信道使用 CSMA/CD 和以太网分组。假设结点 A 开始传输一帧，并且在它传输结束之前结点 B 开始传输一帧。在 A 检测到 B 已经传输之前，A 能完成传输吗？为什么？如果回答是可以，则 A 错误地认为它的帧已成功传输而无碰撞。提示：假设在 t = 0 比特时刻，A 开始传世一帧。在最坏的情况下，A 传输一个 512 + 64 比特时间的最小长度的帧。因此 A 将在 t = 512 + 64 比特时刻完成帧的传输。如果 B 的信号在比特时间 t = 512 + 64 比特之前到达 A，则答案是否定的。在最坏情况下，B 的信号什么时刻到达 A ?

  * 假设 A 传输一个最小长度的帧，该帧长度为 72 字节，即网络层数据报为 46 字节，8 字节前同步码，12 字节源目的 MAC，2 字节类型，4 字节 CRC。则 A 传输这 72 字节总共需要的时间如下：
  * `d_trans_A = 72 * 8 / 10^7 = 57.6 us`
  * 如果在 A 开始传输第一帧的时刻，B 也开始传输第一帧，那么 B 也在占用广播信道这一消息通知到 A 需要的时间如下:
  * `d_notify_A = 325 / 10^7 = 32.5 us`
  * 假如 A 和 B 同时开始传输，在 A 传输完成之前，A 就能检测到碰撞。

  * 但是在最坏情况下，B 在 t = 324 比特时间才开始传输帧，因此在 A 传输完之前，都没有侦测到 B 在同一时间段内有占用过信道。
  * 如下图所示 
  * ![](https://github.com/YangXiaoHei/Networking/blob/master/05%20链路层/images/p18.png)

#### P19 假设结点 A 和结点 B 在相同的 100 Mbps 广播信道上，并且这两个结点的传播时延为 245 比特时间。假设 A 和 B 同时发送以太网帧，帧发生了碰撞，然后 A 和 B 在 CSMA/CD 算法中选择不同的 K 值。假设没有其他结点处于活跃状态，来自 A 和 B 的重传会碰撞吗？为此，完成下面的例子就足以说明问题了。假设 A 和 B 在 t = 0 比特时间开始传输。它们在 t = 245 比特时间都检测到了碰撞。假设 Ka = 0, Kb = 1。B 会将它的重传调整到什么时间？A 在什么时间开始发送？（注意：这些结点在返回第 2 步之后，都必须等待一个空闲信道，参见协议。）A 的信号在什么时间到达 B 呢？B 在它预定的时刻抑制传输吗？
    